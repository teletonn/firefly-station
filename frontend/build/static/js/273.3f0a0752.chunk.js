"use strict";(self.webpackChunkmeshtastic_admin_frontend=self.webpackChunkmeshtastic_admin_frontend||[]).push([[273],{3273:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var a=t(2555),l=t(5043),i=t(4117),c=t(6139),r=t(3230),n=t(5592),d=t(9722),o=t(6150),x=t(108),m=t(7869),h=t(4240),u=t(7734),v=t(168),y=t(3839),j=t(8643),p=t(2185),g=t(6026),b=t(5748),f=t(2291),_=t(163),N=t(877),w=t(4537),k=t(1861),A=t(4939),C=t(7104),K=t(8006),F=t(4669),S=t(516),R=t(3782),O=t(4919),z=t(7118),B=t(579);const W=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],E=e=>{var s,t,a,l,c,n,d,v,j,b,f,w,A,C,S,R,O,E,q,D,L,U,M;let{data:P}=e;const{t:Q}=(0,i.Bd)(),T=P||{};return(0,B.jsxs)("div",{className:"space-y-6",children:[(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,B.jsx)(G,{title:Q("analytics.total_users"),value:(null===(s=T.users)||void 0===s?void 0:s.total)||0,change:null===(t=T.users)||void 0===t?void 0:t.trend,icon:z.A,color:"blue"}),(0,B.jsx)(G,{title:Q("analytics.messages_today"),value:(null===(a=T.messages)||void 0===a?void 0:a.total_today)||0,change:null===(l=T.messages)||void 0===l?void 0:l.trend,icon:F.A,color:"green"}),(0,B.jsx)(G,{title:Q("analytics.active_alerts"),value:(null===(c=T.alerts)||void 0===c?void 0:c.total_active)||0,change:null===(n=T.alerts)||void 0===n?void 0:n.trend,icon:k.A,color:"red"}),(0,B.jsx)(G,{title:Q("analytics.active_zones"),value:(null===(d=T.zones)||void 0===d?void 0:d.active)||0,icon:K.A,color:"purple"})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,B.jsx)(r.A,{title:Q("analytics.user_activity_trends"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(N.Q,{data:T.userActivityTrends||[],children:[(0,B.jsx)(u.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,B.jsx)(p.W,{dataKey:"date",stroke:"#9ca3af"}),(0,B.jsx)(g.h,{stroke:"#9ca3af"}),(0,B.jsx)(o.m,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,B.jsx)(y.G,{type:"monotone",dataKey:"active_users",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3})]})})}),(0,B.jsx)(r.A,{title:Q("analytics.alert_distribution"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(_.r,{children:[(0,B.jsx)(h.F,{data:[{name:Q("analytics.low"),value:(null===(v=T.alerts)||void 0===v||null===(j=v.by_severity)||void 0===j?void 0:j.low)||0},{name:Q("analytics.medium"),value:(null===(b=T.alerts)||void 0===b||null===(f=b.by_severity)||void 0===f?void 0:f.medium)||0},{name:Q("analytics.high"),value:(null===(w=T.alerts)||void 0===w||null===(A=w.by_severity)||void 0===A?void 0:A.high)||0},{name:Q("analytics.critical"),value:(null===(C=T.alerts)||void 0===C||null===(S=C.by_severity)||void 0===S?void 0:S.critical)||0}],cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:e=>{let{name:s,percent:t}=e;return"".concat(s," ").concat((100*t).toFixed(0),"%")},children:[{name:"Low",value:(null===(R=T.alerts)||void 0===R||null===(O=R.by_severity)||void 0===O?void 0:O.low)||0},{name:"Medium",value:(null===(E=T.alerts)||void 0===E||null===(q=E.by_severity)||void 0===q?void 0:q.medium)||0},{name:"High",value:(null===(D=T.alerts)||void 0===D||null===(L=D.by_severity)||void 0===L?void 0:L.high)||0},{name:"Critical",value:(null===(U=T.alerts)||void 0===U||null===(M=U.by_severity)||void 0===M?void 0:M.critical)||0}].map((e,s)=>(0,B.jsx)(m.f,{fill:W[s%W.length]},"cell-".concat(s)))}),(0,B.jsx)(o.m,{})]})})})]})]})},q=e=>{let{data:s}=e;const{t:t}=(0,i.Bd)(),a=s||{};return(0,B.jsxs)("div",{className:"space-y-6",children:[(0,B.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,B.jsx)(r.A,{title:t("analytics.user_registration_trends"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(b.b,{data:a.registration_trends||[],children:[(0,B.jsx)(u.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,B.jsx)(p.W,{dataKey:"date",stroke:"#9ca3af"}),(0,B.jsx)(g.h,{stroke:"#9ca3af"}),(0,B.jsx)(o.m,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,B.jsx)(v.N,{type:"monotone",dataKey:"count",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})}),(0,B.jsx)(r.A,{title:t("analytics.user_activity_patterns"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(f.E,{data:a.activity_patterns||[],children:[(0,B.jsx)(u.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,B.jsx)(p.W,{dataKey:"hour",stroke:"#9ca3af"}),(0,B.jsx)(g.h,{stroke:"#9ca3af"}),(0,B.jsx)(o.m,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,B.jsx)(j.y,{dataKey:"activity_count",fill:"#3b82f6"})]})})})]}),(0,B.jsx)(r.A,{title:t("analytics.device_statistics"),children:(0,B.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(a.device_stats||{}).map(e=>{let[s,t]=e;return(0,B.jsxs)("div",{className:"text-center",children:[(0,B.jsx)("div",{className:"text-2xl font-bold text-white",children:t}),(0,B.jsx)("div",{className:"text-sm text-gray-400 capitalize",children:s})]},s)})})})]})},D=e=>{var s,t,a,l,c;let{data:n}=e;const{t:d}=(0,i.Bd)(),v=n||{};return(0,B.jsxs)("div",{className:"space-y-6",children:[(0,B.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,B.jsx)(r.A,{title:d("analytics.message_volume_trends"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(N.Q,{data:v.volume_trends||[],children:[(0,B.jsx)(u.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,B.jsx)(p.W,{dataKey:"date",stroke:"#9ca3af"}),(0,B.jsx)(g.h,{stroke:"#9ca3af"}),(0,B.jsx)(o.m,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,B.jsx)(y.G,{type:"monotone",dataKey:"count",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.3})]})})}),(0,B.jsx)(r.A,{title:d("analytics.message_types_distribution"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(_.r,{children:[(0,B.jsx)(h.F,{data:Object.entries(v.type_distribution||{}).map(e=>{let[s,t]=e;return{name:s,value:t}}),cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:e=>{let{name:s,percent:t}=e;return"".concat(s," ").concat((100*t).toFixed(0),"%")},children:Object.entries(v.type_distribution||{}).map((e,s)=>(0,B.jsx)(m.f,{fill:W[s%W.length]},"cell-".concat(s)))}),(0,B.jsx)(o.m,{})]})})})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,B.jsxs)(r.A,{className:"text-center",children:[(0,B.jsxs)("div",{className:"text-2xl font-bold text-white",children:[(null===(s=v.response_times)||void 0===s||null===(t=s.avg_response_time)||void 0===t?void 0:t.toFixed(0))||0,"ms"]}),(0,B.jsx)("div",{className:"text-sm text-gray-400",children:d("analytics.avg_response_time")})]}),(0,B.jsxs)(r.A,{className:"text-center",children:[(0,B.jsxs)("div",{className:"text-2xl font-bold text-white",children:[(null===(a=v.bot_quality)||void 0===a||null===(l=a.success_rate)||void 0===l?void 0:l.toFixed(1))||0,"%"]}),(0,B.jsx)("div",{className:"text-sm text-gray-400",children:d("analytics.bot_success_rate")})]}),(0,B.jsxs)(r.A,{className:"text-center",children:[(0,B.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===(c=v.bot_quality)||void 0===c?void 0:c.total_interactions)||0}),(0,B.jsx)("div",{className:"text-sm text-gray-400",children:d("analytics.bot_interactions")})]})]})]})},L=e=>{let{data:s}=e;const{t:t}=(0,i.Bd)(),a=s||{};return(0,B.jsxs)("div",{className:"space-y-6",children:[(0,B.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,B.jsx)(r.A,{title:t("analytics.alert_trends"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(b.b,{data:a.alert_trends||[],children:[(0,B.jsx)(u.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,B.jsx)(p.W,{dataKey:"date",stroke:"#9ca3af"}),(0,B.jsx)(g.h,{stroke:"#9ca3af"}),(0,B.jsx)(o.m,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,B.jsx)(v.N,{type:"monotone",dataKey:"count",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444"}})]})})}),(0,B.jsx)(r.A,{title:t("analytics.alert_types"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(f.E,{data:Object.entries(a.type_distribution||{}).map(e=>{let[s,t]=e;return{type:s.replace("_"," "),count:t}}),children:[(0,B.jsx)(u.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,B.jsx)(p.W,{dataKey:"type",stroke:"#9ca3af"}),(0,B.jsx)(g.h,{stroke:"#9ca3af"}),(0,B.jsx)(o.m,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,B.jsx)(j.y,{dataKey:"count",fill:"#8b5cf6"})]})})})]}),(0,B.jsx)(r.A,{title:t("analytics.zone_based_alerts"),children:(0,B.jsx)("div",{className:"space-y-3",children:(a.zone_alerts||[]).map((e,s)=>(0,B.jsxs)("div",{className:"flex justify-between items-center p-3 bg-dark-800/30 rounded-lg",children:[(0,B.jsx)("span",{className:"text-white",children:e.zone}),(0,B.jsxs)("span",{className:"text-accent-cyan font-semibold",children:[e.count," ",t("analytics.alerts")]})]},s))})})]})},U=e=>{let{data:s}=e;const{t:t}=(0,i.Bd)(),a=s||{};return(0,B.jsxs)("div",{className:"space-y-6",children:[(0,B.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,B.jsx)(r.A,{title:t("analytics.movement_patterns"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(f.E,{data:(a.movement_patterns||[]).slice(0,10),children:[(0,B.jsx)(u.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,B.jsx)(p.W,{dataKey:"user_id",stroke:"#9ca3af"}),(0,B.jsx)(g.h,{stroke:"#9ca3af"}),(0,B.jsx)(o.m,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,B.jsx)(j.y,{dataKey:"updates",fill:"#06b6d4"})]})})}),(0,B.jsx)(r.A,{title:t("analytics.speed_distribution"),children:(0,B.jsx)(x.u,{width:"100%",height:300,children:(0,B.jsxs)(_.r,{children:[(0,B.jsx)(h.F,{data:Object.entries(a.speed_analysis||{}).map(e=>{let[s,t]=e;return{name:s.replace("_"," "),value:t}}),cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:e=>{let{name:s,percent:t}=e;return"".concat(s," ").concat((100*t).toFixed(0),"%")},children:Object.entries(a.speed_analysis||{}).map((e,s)=>(0,B.jsx)(m.f,{fill:W[s%W.length]},"cell-".concat(s)))}),(0,B.jsx)(o.m,{})]})})})]}),(0,B.jsx)(r.A,{title:t("analytics.zone_dwell_times"),children:(0,B.jsx)("div",{className:"space-y-3",children:(a.dwell_times||[]).map((e,s)=>(0,B.jsxs)("div",{className:"flex justify-between items-center p-3 bg-dark-800/30 rounded-lg",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{className:"text-white font-medium",children:e.zone_name}),(0,B.jsxs)("div",{className:"text-sm text-gray-400",children:[e.users," ",t("analytics.users")]})]}),(0,B.jsx)("div",{className:"text-right",children:(0,B.jsxs)("div",{className:"text-accent-cyan font-semibold",children:[e.avg_dwell_hours.toFixed(1),t("analytics.h_avg")]})})]},s))})})]})},M=e=>{var s,t,a,l,c,n,d,o,x,m,h,u,v,y,j;let{data:p}=e;const{t:g}=(0,i.Bd)(),b=p||{};return(0,B.jsxs)("div",{className:"space-y-6",children:[(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,B.jsxs)(r.A,{className:"text-center",children:[(0,B.jsxs)("div",{className:"text-2xl font-bold text-white",children:[(null===(s=b.system_performance)||void 0===s||null===(t=s.cpu_usage)||void 0===t?void 0:t.toFixed(1))||0,"%"]}),(0,B.jsx)("div",{className:"text-sm text-gray-400",children:g("analytics.cpu_usage")})]}),(0,B.jsxs)(r.A,{className:"text-center",children:[(0,B.jsxs)("div",{className:"text-2xl font-bold text-white",children:[(null===(a=b.system_performance)||void 0===a||null===(l=a.memory_usage)||void 0===l?void 0:l.toFixed(1))||0,"%"]}),(0,B.jsx)("div",{className:"text-sm text-gray-400",children:g("analytics.memory_usage")})]}),(0,B.jsxs)(r.A,{className:"text-center",children:[(0,B.jsxs)("div",{className:"text-2xl font-bold text-white",children:[(null===(c=b.api_response_times)||void 0===c||null===(n=c.avg_response_time)||void 0===n?void 0:n.toFixed(0))||0,"ms"]}),(0,B.jsx)("div",{className:"text-sm text-gray-400",children:g("analytics.api_response_time")})]}),(0,B.jsxs)(r.A,{className:"text-center",children:[(0,B.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===(d=b.websocket_metrics)||void 0===d?void 0:d.active_connections)||0}),(0,B.jsx)("div",{className:"text-sm text-gray-400",children:g("analytics.active_connections")})]})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,B.jsx)(r.A,{title:g("analytics.database_performance"),children:(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-400",children:g("analytics.query_count")}),(0,B.jsx)("span",{className:"text-white font-semibold",children:(null===(o=b.database_performance)||void 0===o?void 0:o.query_count)||0})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-400",children:g("analytics.avg_query_time")}),(0,B.jsxs)("span",{className:"text-white font-semibold",children:[(null===(x=b.database_performance)||void 0===x||null===(m=x.avg_query_time)||void 0===m?void 0:m.toFixed(1))||0,"ms"]})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-400",children:g("analytics.slow_queries")}),(0,B.jsx)("span",{className:"text-white font-semibold",children:(null===(h=b.database_performance)||void 0===h?void 0:h.slow_queries)||0})]})]})}),(0,B.jsx)(r.A,{title:g("analytics.websocket_metrics"),children:(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-400",children:g("analytics.messages_per_sec")}),(0,B.jsx)("span",{className:"text-white font-semibold",children:(null===(u=b.websocket_metrics)||void 0===u||null===(v=u.messages_per_second)||void 0===v?void 0:v.toFixed(1))||0})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-400",children:g("analytics.connection_drops")}),(0,B.jsx)("span",{className:"text-white font-semibold",children:(null===(y=b.websocket_metrics)||void 0===y?void 0:y.connection_drops)||0})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-400",children:g("analytics.avg_session_duration")}),(0,B.jsxs)("span",{className:"text-white font-semibold",children:[(((null===(j=b.websocket_metrics)||void 0===j?void 0:j.avg_session_duration)||0)/60).toFixed(0),g("analytics.min")]})]})]})})]})]})},G=e=>{let{title:s,value:t,change:a,icon:l,color:c}=e;const{t:n}=(0,i.Bd)();return(0,B.jsxs)(r.A,{className:"text-center",children:[(0,B.jsx)(l,{className:"w-8 h-8 mx-auto mb-2 ".concat({blue:"text-blue-400",green:"text-green-400",red:"text-red-400",purple:"text-purple-400"}[c])}),(0,B.jsx)("div",{className:"text-2xl font-bold text-white",children:t.toLocaleString()}),(0,B.jsx)("div",{className:"text-sm text-gray-400",children:s}),a&&(0,B.jsxs)("div",{className:"flex items-center justify-center mt-2 text-xs ".concat("up"===a.direction?"text-green-400":"down"===a.direction?"text-red-400":"text-gray-400"),children:["up"===a.direction&&(0,B.jsx)(O.A,{className:"w-3 h-3 mr-1"}),"down"===a.direction&&(0,B.jsx)(R.A,{className:"w-3 h-3 mr-1"}),(0,B.jsxs)("span",{children:[a.percentage,n("up"===a.direction?"analytics.up":"analytics.down")]})]})]})},P=()=>{const{t:e}=(0,i.Bd)(),{isConnected:s,subscribe:t}=(0,c.h3)(),[r,o]=(0,l.useState)("overview"),[x,m]=(0,l.useState)("7d"),[h,u]=(0,l.useState)(!0),[v,y]=(0,l.useState)(null),[j,p]=(0,l.useState)({overview:{},users:{},messages:{},alerts:{},geolocation:{},performance:{}});(0,l.useEffect)(()=>{g()},[x]),(0,l.useEffect)(()=>{const e=t("analytics_update",e=>{e.data.analytics_data&&p(s=>(0,a.A)((0,a.A)({},s),e.data.analytics_data))}),s=t("statistics_update",e=>{e.data.analytics_stats&&p(s=>(0,a.A)((0,a.A)({},s),e.data.analytics_stats))});return()=>{e(),s()}},[t]);const g=async()=>{u(!0),y(null);try{const e=["dashboard/overview","users/analytics?period=".concat(x),"messages/analytics?period=".concat(x),"alerts/analytics?period=".concat(x),"geolocation/analytics?period=".concat(x),"performance/metrics?period=".concat(x.replace("d",""),"d")],s=(await Promise.all(e.map(e=>d.A.get("/api/analytics/".concat(e))))).map(e=>e.data);p({overview:s[0],users:s[1],messages:s[2],alerts:s[3],geolocation:s[4],performance:s[5]})}catch(v){console.error("Error fetching analytics data:",v),y("Failed to load analytics data. Please try again.")}finally{u(!1)}},b=[{id:"overview",label:e("analytics.overview"),icon:w.A},{id:"users",label:e("analytics.users"),icon:z.A},{id:"messages",label:e("analytics.messages"),icon:F.A},{id:"alerts",label:e("analytics.alerts"),icon:k.A},{id:"geolocation",label:e("analytics.geolocation"),icon:K.A},{id:"performance",label:e("analytics.performance"),icon:A.A}],f=[{value:"1h",label:e("analytics.last_hour")},{value:"24h",label:e("analytics.last_24_hours")},{value:"7d",label:e("analytics.last_7_days")},{value:"30d",label:e("analytics.last_30_days")},{value:"90d",label:e("analytics.last_90_days")}];return h?(0,B.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,B.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-cyan"})}):(0,B.jsxs)("div",{className:"space-y-6",children:[v&&(0,B.jsxs)("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-4",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,B.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,B.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,B.jsx)("span",{className:"text-red-400 font-medium",children:"Error"})]}),(0,B.jsx)(n.A,{onClick:()=>{y(null),g()},variant:"secondary",className:"text-sm",children:"Retry"})]}),(0,B.jsx)("p",{className:"text-red-300 mt-2",children:v})]}),(0,B.jsxs)("div",{className:"flex justify-between items-center",children:[(0,B.jsx)("h1",{className:"text-3xl font-bold text-white",children:e("analytics.title")}),(0,B.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,B.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,B.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s?"bg-green-400":"bg-red-400")}),(0,B.jsx)("span",{className:"text-sm text-gray-400",children:e(s?"analytics.live_data":"analytics.offline")})]}),(0,B.jsx)("select",{value:x,onChange:e=>m(e.target.value),className:"px-3 py-2 bg-dark-800 border border-dark-600 rounded-lg text-white focus:border-accent-cyan focus:outline-none",children:f.map(e=>(0,B.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,B.jsx)(n.A,{onClick:g,variant:"ghost",size:"sm",children:(0,B.jsx)(S.A,{className:"w-4 h-4"})}),(0,B.jsxs)(n.A,{onClick:async()=>{try{const e=(await d.A.get("/api/analytics/reports/generate?report_type=daily")).data,s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download="analytics-report-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}catch(v){console.error("Error generating report:",v)}},variant:"primary",size:"sm",children:[(0,B.jsx)(C.A,{className:"w-4 h-4 mr-2"}),e("analytics.export_report")]})]})]}),(0,B.jsx)("div",{className:"flex space-x-1 bg-dark-800/50 p-1 rounded-lg",children:b.map(e=>{const s=e.icon;return(0,B.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center space-x-2 flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat(r===e.id?"bg-accent-cyan text-dark-900":"text-gray-300 hover:text-white"),children:[(0,B.jsx)(s,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:e.label})]},e.id)})}),(0,B.jsxs)("div",{className:"space-y-6",children:["overview"===r&&(0,B.jsx)(E,{data:j.overview}),"users"===r&&(0,B.jsx)(q,{data:j.users}),"messages"===r&&(0,B.jsx)(D,{data:j.messages}),"alerts"===r&&(0,B.jsx)(L,{data:j.alerts}),"geolocation"===r&&(0,B.jsx)(U,{data:j.geolocation}),"performance"===r&&(0,B.jsx)(M,{data:j.performance})]})]})}}}]);
//# sourceMappingURL=273.3f0a0752.chunk.js.map