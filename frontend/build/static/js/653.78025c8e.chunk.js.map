{"version":3,"file":"static/js/653.78025c8e.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/send.ts","components/Messages.js","../node_modules/lucide-react/src/icons/clock.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgMi03IDIwLTQtOS05LTRaIiAvPgogIDxwYXRoIGQ9Ik0yMiAyIDExIDEzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('Send', [\n  ['path', { d: 'm22 2-7 20-4-9-9-4Z', key: '1q3vgg' }],\n  ['path', { d: 'M22 2 11 13', key: 'nzbqef' }],\n]);\n\nexport default Send;\n","import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useWebSocket } from '../contexts/WebSocketContext';\r\nimport GlassCard from './ui/GlassCard';\r\nimport { MessageSquare, Send, User, Clock } from 'lucide-react';\r\n\r\nconst Messages = () => {\r\n  const { t } = useTranslation();\r\n  const { subscribe, isConnected } = useWebSocket();\r\n  const [messages, setMessages] = useState([]);\r\n  const [stats, setStats] = useState({\r\n    total_messages: 0,\r\n    messages_today: 0,\r\n    active_conversations: 0\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedMessage, setSelectedMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchMessages();\r\n    fetchStats();\r\n  }, []);\r\n\r\n  // Subscribe to real-time message updates\r\n  useEffect(() => {\r\n    const unsubscribeNewMessage = subscribe('new_message', (message) => {\r\n      // Transform incoming message data\r\n      const transformedMessage = {\r\n        id: message.data.id || Date.now(),\r\n        sender_id: message.data.sender_id,\r\n        sender_name: message.data.sender_name || message.data.sender_id,\r\n        recipient_id: message.data.receiver_id,\r\n        recipient_name: message.data.recipient_name || message.data.receiver_id,\r\n        content: message.data.text || message.data.content,\r\n        message_type: message.data.direction === 'outgoing' ? 'sent' : 'received',\r\n        created_at: message.data.timestamp || new Date().toISOString(),\r\n        is_bot_response: message.data.is_bot_response || false\r\n      };\r\n      setMessages(prev => [transformedMessage, ...prev.slice(0, 49)]); // Keep last 50 messages\r\n      setStats(prev => ({\r\n        ...prev,\r\n        total_messages: prev.total_messages + 1,\r\n        messages_today: prev.messages_today + 1\r\n      }));\r\n    });\r\n\r\n    const unsubscribeStatsUpdate = subscribe('statistics_update', (message) => {\r\n      if (message.data.message_stats) {\r\n        setStats(prev => ({\r\n          ...prev,\r\n          ...message.data.message_stats\r\n        }));\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeNewMessage();\r\n      unsubscribeStatsUpdate();\r\n    };\r\n  }, [subscribe]);\r\n\r\n  const fetchMessages = async () => {\r\n    try {\r\n      const response = await fetch('/api/messages/?limit=50&offset=0');\r\n      const data = await response.json();\r\n      // Transform backend data to match frontend expectations\r\n      const transformedMessages = (data.messages || []).map(msg => ({\r\n        id: msg.id,\r\n        sender_id: msg.sender_id,\r\n        sender_name: msg.sender_id, // Use ID as name for now\r\n        recipient_id: msg.receiver_id,\r\n        recipient_name: msg.receiver_id, // Use ID as name for now\r\n        content: msg.text,\r\n        message_type: msg.direction === 'outgoing' ? 'sent' : 'received',\r\n        created_at: msg.timestamp,\r\n        is_bot_response: false // Default to false\r\n      }));\r\n      setMessages(transformedMessages);\r\n    } catch (error) {\r\n      console.error('Error fetching messages:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await fetch('/api/messages/stats/overview');\r\n      const data = await response.json();\r\n      setStats(prev => ({\r\n        ...prev,\r\n        ...data\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error fetching message stats:', error);\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (timestamp) => {\r\n    return new Date(timestamp).toLocaleString();\r\n  };\r\n\r\n  const getMessageTypeColor = (messageType) => {\r\n    const colors = {\r\n      text: 'text-blue-400',\r\n      location: 'text-green-400',\r\n      alert: 'text-red-400',\r\n      command: 'text-purple-400',\r\n      system: 'text-gray-400'\r\n    };\r\n    return colors[messageType] || 'text-gray-400';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-96\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-cyan\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-3xl font-bold text-white\">{t('messages.monitoring')}</h1>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-400' : 'bg-red-400'}`}></div>\r\n          <span className=\"text-sm text-gray-400\">\r\n            {isConnected ? t('messages.live_updates') : t('status.disconnected')}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <GlassCard className=\"text-center\">\r\n          <MessageSquare className=\"w-8 h-8 text-accent-cyan mx-auto mb-2\" />\r\n          <div className=\"text-2xl font-bold text-white\">{stats.total_messages}</div>\r\n          <div className=\"text-sm text-gray-400\">{t('messages.total_messages')}</div>\r\n        </GlassCard>\r\n\r\n        <GlassCard className=\"text-center\">\r\n          <Send className=\"w-8 h-8 text-accent-green mx-auto mb-2\" />\r\n          <div className=\"text-2xl font-bold text-white\">{stats.messages_today}</div>\r\n          <div className=\"text-sm text-gray-400\">{t('messages.messages_today')}</div>\r\n        </GlassCard>\r\n\r\n        <GlassCard className=\"text-center\">\r\n          <User className=\"w-8 h-8 text-accent-purple mx-auto mb-2\" />\r\n          <div className=\"text-2xl font-bold text-white\">{stats.active_conversations}</div>\r\n          <div className=\"text-sm text-gray-400\">{t('messages.active_conversations')}</div>\r\n        </GlassCard>\r\n      </div>\r\n\r\n      {/* Messages List */}\r\n      <GlassCard title={t('messages.recent_messages')}>\r\n        <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n          {messages.map((message) => (\r\n            <div\r\n              key={message.id}\r\n              className=\"p-4 bg-dark-800/30 rounded-lg border border-dark-600 hover:border-accent-cyan/30 transition-colors cursor-pointer\"\r\n              onClick={() => setSelectedMessage(message)}\r\n            >\r\n              <div className=\"flex justify-between items-start\">\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center space-x-3 mb-2\">\r\n                    <h3 className=\"font-semibold text-white\">{message.sender_name || t('messages.unknown')}</h3>\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${getMessageTypeColor(message.message_type)} bg-current/20`}>\r\n                      {message.message_type?.toUpperCase()}\r\n                    </span>\r\n                    {message.is_bot_response && (\r\n                      <span className=\"px-2 py-1 bg-purple-600 text-white rounded-full text-xs\">\r\n                        {t('messages.bot')}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-gray-300 text-sm mb-2 line-clamp-2\">{message.content}</p>\r\n                  <div className=\"flex items-center space-x-4 text-xs text-gray-400\">\r\n                    <span>{t('messages.to')}: {message.recipient_name || message.recipient_id}</span>\r\n                    <span className=\"flex items-center space-x-1\">\r\n                      <Clock className=\"w-3 h-3\" />\r\n                      {formatTimestamp(message.created_at)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {messages.length === 0 && (\r\n            <p className=\"text-gray-400 text-center py-8\">{t('messages.no_messages')}</p>\r\n          )}\r\n        </div>\r\n      </GlassCard>\r\n\r\n      {/* Message Details Modal */}\r\n      {selectedMessage && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <GlassCard className=\"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"flex justify-between items-start mb-4\">\r\n              <h2 className=\"text-xl font-bold text-white\">{t('messages.details')}</h2>\r\n              <button\r\n                onClick={() => setSelectedMessage(null)}\r\n                className=\"text-gray-400 hover:text-white\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('messages.from')}</label>\r\n                  <p className=\"text-white\">{selectedMessage.sender_name || selectedMessage.sender_id}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('messages.to_label')}</label>\r\n                  <p className=\"text-white\">{selectedMessage.recipient_name || selectedMessage.recipient_id}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('messages.type')}</label>\r\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${getMessageTypeColor(selectedMessage.message_type)} bg-current/20`}>\r\n                    {selectedMessage.message_type?.toUpperCase()}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('messages.timestamp')}</label>\r\n                  <p className=\"text-white\">{formatTimestamp(selectedMessage.created_at)}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('messages.content')}</label>\r\n                <p className=\"text-white bg-dark-800/50 p-3 rounded whitespace-pre-wrap\">{selectedMessage.content}</p>\r\n              </div>\r\n\r\n              {selectedMessage.metadata && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('messages.metadata')}</label>\r\n                  <pre className=\"text-xs text-gray-400 bg-dark-800/50 p-3 rounded overflow-x-auto\">\r\n                    {JSON.stringify(selectedMessage.metadata, null, 2)}\r\n                  </pre>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </GlassCard>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messages;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n"],"names":["Send","createLucideIcon","d","key","Messages","_selectedMessage$mess","t","useTranslation","subscribe","isConnected","useWebSocket","messages","setMessages","useState","stats","setStats","total_messages","messages_today","active_conversations","loading","setLoading","selectedMessage","setSelectedMessage","useEffect","fetchMessages","fetchStats","unsubscribeNewMessage","message","transformedMessage","id","data","Date","now","sender_id","sender_name","recipient_id","receiver_id","recipient_name","content","text","message_type","direction","created_at","timestamp","toISOString","is_bot_response","prev","slice","_objectSpread","unsubscribeStatsUpdate","message_stats","async","response","fetch","transformedMessages","json","map","msg","error","console","formatTimestamp","toLocaleString","getMessageTypeColor","messageType","location","alert","command","system","_jsx","className","children","_jsxs","concat","GlassCard","MessageSquare","User","title","_message$message_type","onClick","toUpperCase","Clock","length","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","metadata","JSON","stringify","cx","cy","r","points"],"sourceRoot":""}